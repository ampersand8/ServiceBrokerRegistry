<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <link href="../resources/style/message.css" rel="stylesheet" type="text/css"/>
    <h:panelGroup layout="block" id="message" styleClass="#{messageBean.messageSuccess}" onclick="toggleMessage()">
        <h:graphicImage name="images/chevrons-right.svg" id="messageActionImage" styleClass="closeMessage #{messageBean.messageSuccess}"/>
        <h:outputLabel value="#{messageBean.message}"/>
    </h:panelGroup>
    <script type="text/javascript">
        let messageHidden = false;

        function toggleMessage() {
            let messagePanel = document.getElementById("message");
            let actionImage = document.getElementById("messageActionImage");
            if (messageHidden) {
                actionImage.src = "resources/images/chevrons-right.svg";
                messagePanel.style.right = "0px";
                messagePanel.classList.remove("hide");
            } else {
                actionImage.src = "resources/images/chevrons-left.svg";
                messagePanel.classList.add("hide");
                console.log(messagePanel.offsetWidth);
                messagePanel.style.right = "-" + (messagePanel.offsetWidth - 20) + "px";
            }
            messageHidden = !messageHidden;
        }
    </script>
</ui:composition>
